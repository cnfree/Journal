* 开销最大的操作需要移动到处理链条的尾部
  * 这条经验准则到处适用
  * 前置操作尽可能的过滤需要处理的数据
  
* Hystrix 的两种隔离模式
  * 线程池模式，适用于外网高并发请求，可以保证有剩余的容器线程可用
  * 信号量模式，适用于内网低延迟请求，减少上下文切换开销，同时能够对全局访问进行限流  

网关，路由，挡板

网关层作为客户端与服务端的一层挡板，主要起到了三大类作用：

1. 隔离作用：作为企业系统边界，隔离外网系统与内网系统。
2. 解耦作用：通过解耦，使得微服务系统的各方能够独立、自由、高效、灵活地调整。
3. 脚手架作用：提供了一个地点，方便通过扩展机制对请求进行一系列加工和处理。

http://blog.sina.com.cn/s/blog_493a84550102ysqp.html

离线服务（MQ、跑批）与 在线服务要区分部署，避免离线服务对在线服务的冲击，比如跑批业务

* Controller, Service 一定要写成无状态的，如果需要有状态，请单独新写一个包含状态的类，在Controller或者Service的某个方法里new出来执行，做到线程封闭。
